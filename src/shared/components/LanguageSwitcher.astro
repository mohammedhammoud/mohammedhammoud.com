---
import { LOCALES, type Locale } from "@/site.config";

interface Props {
  locale: Locale;
  localeUrls: Record<string, string>;
}

const { locale, localeUrls } = Astro.props;
---

<div class="flex gap-4 text-sm">
  {
    Object.entries(localeUrls)
      .sort(
        ([a], [b]) =>
          LOCALES.indexOf(a as Locale) - LOCALES.indexOf(b as Locale),
      )
      .map(([linkLocale, path]) => (
        <a
          href={path}
          data-testid={`lang-${linkLocale}`}
          class:list={[
            "transition-colors",
            locale === linkLocale
              ? "font-medium text-blue-600 dark:text-blue-400"
              : "text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100",
          ]}
          lang={linkLocale}
          hreflang={linkLocale}
        >
          {linkLocale}
        </a>
      ))
  }
</div>
